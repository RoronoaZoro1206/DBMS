--
-- PostgreSQL database dump
--

\restrict CZ0Z0lgcYlHKCNhcVamE2Zmh00S9I92olPjM1w9dAGDTKj3T6XMqbLFNFSTobBa

-- Dumped from database version 18.0
-- Dumped by pg_dump version 18.0

-- Started on 2025-10-19 05:17:47

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 2 (class 3079 OID 26369)
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- TOC entry 5106 (class 0 OID 0)
-- Dependencies: 2
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


--
-- TOC entry 267 (class 1255 OID 26407)
-- Name: get_all_tickets(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.get_all_tickets() RETURNS TABLE(ticket_id integer, ticket_issue text)
    LANGUAGE plpgsql
    AS $$ 
BEGIN 
	RETURN QUERY 
	SELECT id, issue 
	FROM public.tickets; 
END; 
$$;


ALTER FUNCTION public.get_all_tickets() OWNER TO postgres;

--
-- TOC entry 279 (class 1255 OID 26408)
-- Name: log_ticket_changes(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.log_ticket_changes() RETURNS trigger
    LANGUAGE plpgsql
    AS $$ 
DECLARE
    v_user_id INT;
BEGIN 
    -- Try to get the user_id from session, use 1 as default if not set
    BEGIN
        v_user_id := current_setting('app.user_id', true)::INT;
    EXCEPTION WHEN OTHERS THEN
        -- Default to staff_id = 1 (admin) if session variable is not set
        v_user_id := 1;
    END;

    -- If still null, set to 1
    IF v_user_id IS NULL THEN
        v_user_id := 1;
    END IF;

    IF TG_OP = 'INSERT' THEN
        INSERT INTO audit_log_ticket(
            ticket_id, 
            action,
            staff_id, 
            old_data,
            new_data)
        VALUES (
            NEW.id,
            'INSERT',
            v_user_id,
            NULL,
            to_jsonb(NEW));
        RETURN NEW;

    ELSIF TG_OP = 'UPDATE' THEN
        INSERT INTO audit_log_ticket(
            ticket_id, 
            action,
            staff_id, 
            old_data,
            new_data)
        VALUES (
            NEW.id,
            'UPDATE',
            v_user_id,
            to_jsonb(OLD),
            to_jsonb(NEW));
        RETURN NEW;

    ELSIF TG_OP = 'DELETE' THEN
        INSERT INTO audit_log_ticket(
            ticket_id, 
            action,
            staff_id, 
            old_data,
            new_data)
        VALUES (
            OLD.id,
            'DELETE',
            v_user_id,
            to_jsonb(OLD),
            NULL);
        RETURN OLD;
    END IF;
END;
$$;


ALTER FUNCTION public.log_ticket_changes() OWNER TO postgres;

--
-- TOC entry 280 (class 1255 OID 26409)
-- Name: mark_ticket_resolved(integer, text); Type: PROCEDURE; Schema: public; Owner: postgres
--

CREATE PROCEDURE public.mark_ticket_resolved(IN p_ticket_id integer, IN p_admin_username text)
    LANGUAGE plpgsql
    AS $$
DECLARE
    v_role TEXT;
    v_ticket_exists BOOLEAN;
BEGIN
    -- Get the role of the user
    SELECT role INTO v_role FROM staff_users WHERE username = p_admin_username;

    -- Check if user exists
    IF v_role IS NULL THEN
        RAISE EXCEPTION 'User not found in staff_users.';
    END IF;

    -- Check if user has admin role
    IF v_role != 'admin_role' THEN
        RAISE EXCEPTION 'Access denied: Only admin_role can mark tickets as resolved.';
    END IF;

    -- Check if ticket exists
    SELECT EXISTS(SELECT 1 FROM tickets WHERE id = p_ticket_id) INTO v_ticket_exists;
    IF NOT v_ticket_exists THEN
        RAISE EXCEPTION 'Ticket ID does not exist.';
    END IF;

    -- Mark ticket as resolved (this UPDATE will trigger the audit log)
    UPDATE tickets 
    SET issue = issue || ' [Resolved by admin ' || p_admin_username || ' on ' || NOW()::TEXT || ']' 
    WHERE id = p_ticket_id;
    
    -- Removed RAISE NOTICE to avoid psycopg2 issues
    
END;
$$;


ALTER PROCEDURE public.mark_ticket_resolved(IN p_ticket_id integer, IN p_admin_username text) OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 220 (class 1259 OID 26410)
-- Name: audit_log_ticket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.audit_log_ticket (
    audit_id integer NOT NULL,
    ticket_id integer NOT NULL,
    staff_id integer,
    action character varying(50) NOT NULL,
    old_data jsonb,
    new_data jsonb,
    logged_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.audit_log_ticket OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 26419)
-- Name: audit_log_ticket_audit_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.audit_log_ticket_audit_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.audit_log_ticket_audit_id_seq OWNER TO postgres;

--
-- TOC entry 5109 (class 0 OID 0)
-- Dependencies: 221
-- Name: audit_log_ticket_audit_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.audit_log_ticket_audit_id_seq OWNED BY public.audit_log_ticket.audit_id;


--
-- TOC entry 222 (class 1259 OID 26420)
-- Name: staff_users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.staff_users (
    id integer NOT NULL,
    username text NOT NULL,
    role text NOT NULL,
    password_hash text NOT NULL
);


ALTER TABLE public.staff_users OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 26429)
-- Name: staff_users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.staff_users_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.staff_users_id_seq OWNER TO postgres;

--
-- TOC entry 5112 (class 0 OID 0)
-- Dependencies: 223
-- Name: staff_users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.staff_users_id_seq OWNED BY public.staff_users.id;


--
-- TOC entry 224 (class 1259 OID 26430)
-- Name: students; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.students (
    id integer NOT NULL,
    name text NOT NULL,
    email text NOT NULL,
    phone text
);


ALTER TABLE public.students OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 26438)
-- Name: students_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.students_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.students_id_seq OWNER TO postgres;

--
-- TOC entry 5115 (class 0 OID 0)
-- Dependencies: 225
-- Name: students_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.students_id_seq OWNED BY public.students.id;


--
-- TOC entry 226 (class 1259 OID 26439)
-- Name: tickets; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tickets (
    id integer NOT NULL,
    student_id integer NOT NULL,
    issue text NOT NULL,
    created_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.tickets OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 26448)
-- Name: tickets_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.tickets_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER SEQUENCE public.tickets_id_seq OWNER TO postgres;

--
-- TOC entry 5120 (class 0 OID 0)
-- Dependencies: 227
-- Name: tickets_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.tickets_id_seq OWNED BY public.tickets.id;


--
-- TOC entry 228 (class 1259 OID 26449)
-- Name: v_role; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.v_role (
    role text
);


ALTER TABLE public.v_role OWNER TO postgres;

--
-- TOC entry 229 (class 1259 OID 26481)
-- Name: v_students_support; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.v_students_support AS
 SELECT id,
    name,
    email,
        CASE
            WHEN pg_has_role(CURRENT_USER, 'support_role'::name, 'member'::text) THEN 'RESTRICTED'::text
            ELSE phone
        END AS phone
   FROM public.students s
  ORDER BY id;


ALTER VIEW public.v_students_support OWNER TO postgres;

--
-- TOC entry 5123 (class 0 OID 0)
-- Dependencies: 229
-- Name: VIEW v_students_support; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON VIEW public.v_students_support IS 'Restricted student directory for support staff; phone excluded (Least Privilege).';


--
-- TOC entry 4922 (class 2604 OID 26454)
-- Name: audit_log_ticket audit_id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_log_ticket ALTER COLUMN audit_id SET DEFAULT nextval('public.audit_log_ticket_audit_id_seq'::regclass);


--
-- TOC entry 4924 (class 2604 OID 26455)
-- Name: staff_users id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.staff_users ALTER COLUMN id SET DEFAULT nextval('public.staff_users_id_seq'::regclass);


--
-- TOC entry 4925 (class 2604 OID 26456)
-- Name: students id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.students ALTER COLUMN id SET DEFAULT nextval('public.students_id_seq'::regclass);


--
-- TOC entry 4926 (class 2604 OID 26457)
-- Name: tickets id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets ALTER COLUMN id SET DEFAULT nextval('public.tickets_id_seq'::regclass);


--
-- TOC entry 5091 (class 0 OID 26410)
-- Dependencies: 220
-- Data for Name: audit_log_ticket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.audit_log_ticket (audit_id, ticket_id, staff_id, action, old_data, new_data, logged_at) FROM stdin;
1	1	1	TICKET_CREATE	\N	{"issue": "Cannot login to online portal.", "ticket_id": 1, "student_id": 1}	2025-10-19 05:16:03.523189
2	2	1	TICKET_CREATE	\N	{"issue": "Laptop won''t connect to CTU Free WiFi.", "ticket_id": 2, "student_id": 2}	2025-10-19 05:16:11.0023
3	3	2	TICKET_CREATE	\N	{"issue": "Password reset request.", "ticket_id": 3, "student_id": 1}	2025-10-19 05:16:32.591317
4	4	2	TICKET_CREATE	\N	{"issue": "CTU account phone number is no longer active.", "ticket_id": 4, "student_id": 3}	2025-10-19 05:16:41.06313
5	-4	2	STUDENT_INSERT	\N	{"name": "Lawrence S. Ramirez", "email": "lawrenceramirez626@gmail.com", "phone": "09924075409", "student_id": 4}	2025-10-19 05:16:50.667807
6	-5	1	STUDENT_INSERT	\N	{"name": "Roronoa Zoro", "email": "imba6262@gmail.com", "phone": "09924075143", "student_id": 5}	2025-10-19 05:17:13.408881
\.


--
-- TOC entry 5093 (class 0 OID 26420)
-- Dependencies: 222
-- Data for Name: staff_users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.staff_users (id, username, role, password_hash) FROM stdin;
2	support_staff	support_role	$2a$06$0oOIEOCktOTGD2iQGqVoo.IRCd0xhVXTA7V5hoDSiFIWmpPEQ6wUy
3	it_support	support_role	$2a$06$fTOA91FDB5tacu8Mc/HUKezu/98IVJP57ISOb5kvO7H3bv.RcFUwK
4	alice	support_role	$2a$06$EQjM79uod4WsldxLyFfB1OAzwZG7vWX8l0jQcsCaaL0B5miit73y.
5	ana	support_role	$2a$06$wQY3dyvEGlqSlqeolzvba.qrDnJL0LbXEku7fIlp3.ir3nmM6UdXK
1	admin	admin_role	$2a$12$SM/QGpF02jTQFJm.7DbN6OfNNDxN4B35F4/paJc0xj843bOwT6npC
\.


--
-- TOC entry 5095 (class 0 OID 26430)
-- Dependencies: 224
-- Data for Name: students; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.students (id, name, email, phone) FROM stdin;
1	Juan Dela Cruz	juan.delacruz@ctu.edu.ph	555-1234
2	Pedro Macaraig	pedro.macaraig@ctu.edu.ph	555-5678
3	Maria Dizcaya	maria.dizcaya@ctu.edu.ph	555-9012
4	Lawrence S. Ramirez	lawrenceramirez626@gmail.com	09924075409
5	Roronoa Zoro	imba6262@gmail.com	09924075143
\.


--
-- TOC entry 5097 (class 0 OID 26439)
-- Dependencies: 226
-- Data for Name: tickets; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tickets (id, student_id, issue, created_at) FROM stdin;
1	1	Cannot login to online portal.	2025-10-19 05:16:03.523189
2	2	Laptop won''t connect to CTU Free WiFi.	2025-10-19 05:16:11.0023
3	1	Password reset request.	2025-10-19 05:16:32.591317
4	3	CTU account phone number is no longer active.	2025-10-19 05:16:41.06313
\.


--
-- TOC entry 5099 (class 0 OID 26449)
-- Dependencies: 228
-- Data for Name: v_role; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.v_role (role) FROM stdin;
admin
\.


--
-- TOC entry 5125 (class 0 OID 0)
-- Dependencies: 221
-- Name: audit_log_ticket_audit_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.audit_log_ticket_audit_id_seq', 6, true);


--
-- TOC entry 5126 (class 0 OID 0)
-- Dependencies: 223
-- Name: staff_users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.staff_users_id_seq', 3, true);


--
-- TOC entry 5127 (class 0 OID 0)
-- Dependencies: 225
-- Name: students_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.students_id_seq', 5, true);


--
-- TOC entry 5128 (class 0 OID 0)
-- Dependencies: 227
-- Name: tickets_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tickets_id_seq', 4, true);


--
-- TOC entry 4929 (class 2606 OID 26459)
-- Name: audit_log_ticket audit_log_ticket_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_log_ticket
    ADD CONSTRAINT audit_log_ticket_pkey PRIMARY KEY (audit_id);


--
-- TOC entry 4931 (class 2606 OID 26461)
-- Name: staff_users staff_users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.staff_users
    ADD CONSTRAINT staff_users_pkey PRIMARY KEY (id);


--
-- TOC entry 4933 (class 2606 OID 26463)
-- Name: staff_users staff_users_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.staff_users
    ADD CONSTRAINT staff_users_username_key UNIQUE (username);


--
-- TOC entry 4935 (class 2606 OID 26465)
-- Name: students students_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.students
    ADD CONSTRAINT students_email_key UNIQUE (email);


--
-- TOC entry 4937 (class 2606 OID 26467)
-- Name: students students_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.students
    ADD CONSTRAINT students_pkey PRIMARY KEY (id);


--
-- TOC entry 4939 (class 2606 OID 26469)
-- Name: tickets tickets_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets
    ADD CONSTRAINT tickets_pkey PRIMARY KEY (id);


--
-- TOC entry 4942 (class 2620 OID 26470)
-- Name: tickets audit_ticket_trigger; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER audit_ticket_trigger AFTER INSERT OR DELETE OR UPDATE ON public.tickets FOR EACH ROW EXECUTE FUNCTION public.log_ticket_changes();


--
-- TOC entry 4940 (class 2606 OID 26471)
-- Name: audit_log_ticket audit_log_ticket_staff_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.audit_log_ticket
    ADD CONSTRAINT audit_log_ticket_staff_id_fkey FOREIGN KEY (staff_id) REFERENCES public.staff_users(id);


--
-- TOC entry 4941 (class 2606 OID 26476)
-- Name: tickets tickets_student_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets
    ADD CONSTRAINT tickets_student_id_fkey FOREIGN KEY (student_id) REFERENCES public.students(id);


--
-- TOC entry 5105 (class 0 OID 0)
-- Dependencies: 6
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: pg_database_owner
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;
GRANT USAGE ON SCHEMA public TO support_role;
GRANT USAGE ON SCHEMA public TO admin_role;


--
-- TOC entry 5107 (class 0 OID 0)
-- Dependencies: 267
-- Name: FUNCTION get_all_tickets(); Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON FUNCTION public.get_all_tickets() TO admin_role;


--
-- TOC entry 5108 (class 0 OID 0)
-- Dependencies: 220
-- Name: TABLE audit_log_ticket; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.audit_log_ticket TO admin_role;
GRANT INSERT ON TABLE public.audit_log_ticket TO support_role;


--
-- TOC entry 5110 (class 0 OID 0)
-- Dependencies: 221
-- Name: SEQUENCE audit_log_ticket_audit_id_seq; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON SEQUENCE public.audit_log_ticket_audit_id_seq TO admin_role;


--
-- TOC entry 5111 (class 0 OID 0)
-- Dependencies: 222
-- Name: TABLE staff_users; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.staff_users TO admin_role;


--
-- TOC entry 5113 (class 0 OID 0)
-- Dependencies: 223
-- Name: SEQUENCE staff_users_id_seq; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON SEQUENCE public.staff_users_id_seq TO admin_role;


--
-- TOC entry 5114 (class 0 OID 0)
-- Dependencies: 224
-- Name: TABLE students; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.students TO admin_role;


--
-- TOC entry 5116 (class 0 OID 0)
-- Dependencies: 225
-- Name: SEQUENCE students_id_seq; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON SEQUENCE public.students_id_seq TO admin_role;


--
-- TOC entry 5117 (class 0 OID 0)
-- Dependencies: 226
-- Name: TABLE tickets; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.tickets TO admin_role;
GRANT INSERT ON TABLE public.tickets TO support_role;


--
-- TOC entry 5118 (class 0 OID 0)
-- Dependencies: 226 5117
-- Name: COLUMN tickets.student_id; Type: ACL; Schema: public; Owner: postgres
--

GRANT UPDATE(student_id) ON TABLE public.tickets TO admin_role;


--
-- TOC entry 5119 (class 0 OID 0)
-- Dependencies: 226 5117
-- Name: COLUMN tickets.issue; Type: ACL; Schema: public; Owner: postgres
--

GRANT UPDATE(issue) ON TABLE public.tickets TO admin_role;


--
-- TOC entry 5121 (class 0 OID 0)
-- Dependencies: 227
-- Name: SEQUENCE tickets_id_seq; Type: ACL; Schema: public; Owner: postgres
--

GRANT ALL ON SEQUENCE public.tickets_id_seq TO admin_role;
GRANT USAGE ON SEQUENCE public.tickets_id_seq TO support_role;


--
-- TOC entry 5122 (class 0 OID 0)
-- Dependencies: 228
-- Name: TABLE v_role; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.v_role TO admin_role;


--
-- TOC entry 5124 (class 0 OID 0)
-- Dependencies: 229
-- Name: TABLE v_students_support; Type: ACL; Schema: public; Owner: postgres
--

GRANT SELECT,INSERT,DELETE,UPDATE ON TABLE public.v_students_support TO admin_role;
GRANT SELECT ON TABLE public.v_students_support TO support_role;


--
-- TOC entry 2117 (class 826 OID 26486)
-- Name: DEFAULT PRIVILEGES FOR SEQUENCES; Type: DEFAULT ACL; Schema: -; Owner: postgres
--

ALTER DEFAULT PRIVILEGES FOR ROLE postgres GRANT ALL ON SEQUENCES TO admin_role;


--
-- TOC entry 2116 (class 826 OID 26485)
-- Name: DEFAULT PRIVILEGES FOR TABLES; Type: DEFAULT ACL; Schema: -; Owner: postgres
--

ALTER DEFAULT PRIVILEGES FOR ROLE postgres GRANT SELECT,INSERT,DELETE,UPDATE ON TABLES TO admin_role;


-- Completed on 2025-10-19 05:17:48

--
-- PostgreSQL database dump complete
--

\unrestrict CZ0Z0lgcYlHKCNhcVamE2Zmh00S9I92olPjM1w9dAGDTKj3T6XMqbLFNFSTobBa

